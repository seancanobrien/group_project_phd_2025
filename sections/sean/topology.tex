\subsection{Algebraic topology associated to complexes of groups}
We have already discussed how to create spaces from scwols.
In some cases, we may view an action on a space as primary, and the role of the scwol is to give a discrete model of the space.
We now work to define a space related to a complex of groups.
The fundamental group of this space can be computed directly from the algebraic structure of the complex of groups.

Given a scwol $\calx$, homotopy in $\abs{\calx}$ is well modelled by the category structure in $\calx$.
Let  $E^{\pm}(\calx) \supset E(\calx)$ denote oriented edges in $\abs{\calx}$.
The $a \in E(\calx)$ are the edges oriented in the same way as the corresponding map in $\calx$.
These are the positively oriented edges.
We denote the edge oriented in the opposite orientation by $\bar{a} \in E^\pm(\calx)\setminus E(\calx)$. 
So $i(\bar{a}) = t(a)$ and $t(\bar{a}) = i(a)$.
These are the negatively oriented edges.
As with \cref{def:graph}, we consider $\bar{(\_)}$ as a map $E^\pm(\calx) \to E^\pm(\calx)$ in the obvious way, where  $\bar{\bar{a}}= a$ etc.
Unlike in \cref{def:graphs}, the negatively oriented edges do not exist in our scwol, but denote a path in the geometric realisation which goes in the opposite direction to the corresponding map.
\begin{definition}
	An edge path from $\sigma$ to  $\tau$ in $\abs{\calx}$ is a tuple $(e_1, \ldots, e_n) \in \left(E^\pm(\calx)\right)^n$ such that $i(e_1)=\sigma$,  $t(e_n)=\tau$ and  $t(e_i) = i(e_{i+1})$ for all  $1 \leq i < n$.
	\label{def:edge_path_in_scwol}
\end{definition}
We can define homotopy of such edge paths in the following way.
Given an edge path $(e_1, \ldots, e_n) \in \left(E^\pm(\calx)\right)^n$, we may do the following replacements:
\begin{enumerate}
	\item Any adjacent subpath $(e_i,e_{i+1})$, where $e_i=\bar{e}_{i+1}$ can be deleted.
	\item Any adjacent subpath $(e_i,e_{i+1})$, where $e_i = b$ and  $e_{i+1}=a$ are both positively oriented can be replaced by the subpath $(ab)$, which is guaranteed to exist.
	Similarly, if $e_i = \bar{b}$ and  $e_{i+1}=\bar{a}$ are both negatively oriented, we can replace $(e_i,e_{i+1})$ with  $(\bar{ba})$.
\end{enumerate}
A homotopy of edge paths is a sequence of such edge path replacements, and their inverses.
We can then define the fundamental group of $\calx$,  $\pi_1(\calx,\sigma_0)$, to be the homotopy class of edge paths that start and end at  $\sigma_0$.
This is isomorphic to the usual $\pi_1(\abs{\calx}, \sigma_0)$ by \cite[Corollary 4.12]{hatcher_algebraic_2001}.

We now define a category whose topology (via the geometric realisation) encodes some of the algebra of a complex of groups.
\begin{definition}
	Given a complex of groups $\calg$ over the scwol  $\calx$, we define the category $C\calg$ as follows.
	The objects of  $C\calg$ are the objects (vertices) of $\calx$.
	The morphisms of $C\calg$ are the tuples $(g,\alpha) \colon i(\alpha) \to t(\alpha)$, where  $g \in G_{t(\alpha)}$ and  $\alpha$ is a (potentially identity) morphism in $\calx$.
	The composition  $(g,\alpha)(h,\beta)$ exists when  $t(\beta) = i(\alpha)$ in  $\calx$, and it is defined to be
	\[
		(g,\alpha)(h,\beta) \coloneq (g\phi_\alpha(h)g_{\alpha,\beta}, \alpha\beta)
		.\]
	For this definition, we take $\phi_{\alpha}$ to be $\id_{G_\sigma}$ if $\alpha = \id_\sigma$, and $g_{\alpha,\beta}$ to be the identity in $G_{t(\alpha)}$ if either of $\alpha$ or  $\beta$ are identity morphisms.
\end{definition}
Compatibility condition (2) in \cref{def:complex_of_groups} guarantees associativity of this composition in  $C\calg$.
We can apply the construction of the geometric realisation of a scwol in \cref{def:geometric_realisation_of_scwol} to any category $\calc$.
The only modification is that we consider non-identity endomorphisms in our composable tuples (which did not exist in the case of scwols).

\begin{definition}
	Given a complex of groups $\calg$, we define the \emph{classifying space} of  $\calg$ to be  $\abs{C\calg}$.
\end{definition}
\todo[color=olive]{Is this a classifying space in the usual sense?}
For example, if we take $\calg$ to be the complex of groups of a group  $G$ over the trivial scwol, then $\abs{C\calg}$ is the classifying space for $G$ as defined in \cite[Example 1B.7]{hatcher_algebraic_2001}.
In particular, the 2-skeleton of $\abs{C\calg}$ is the presentation complex of $G$ with generating set $G$.

Let $F_S$ denote the free group generated by the set $S$.
\begin{definition}
	Given a complex of groups $\calg = (G_\sigma, \phi_a, g_{a,b})$ over the scwol $\calx$, let $\widetilde{F\calg}$ denote the following free product of groups.
	\[
		\widetilde{F\calg} =  F_{E^\pm(\calx)} \ast \left( \bigast_{\sigma \in V(\calx)} G_\sigma \right)
		.\]
	We then define the \emph{universal group} $F\calg$ associated to $\calg$ to be the quotient of $\widetilde{F\calg}$ subject to the relations  $R$, where
	\[
		R = \left\{
		\begin{array}{l}
			a^{-1}   = \bar{a}      \\
			ab(\bar{ab}) = g_{a,b} \\
			\phi_a(g)    = ag\bar{a}
		\end{array}
		\right\}
	\]
	for all $a,b,ab \in E(\calx)$ and $g \in G_\sigma$ for which the relevant expression is well-defined.
	\label{def:complex_of_groups_universal_group}
\end{definition}
There is a natural morphism $i \colon \calg \to F\calg$ where $g \in G_\sigma$ is mapped to the corresponding generator in $F\calg$, and  $a \in E(\calx)$ is sent to $a$.
The relations in $F\calg$ are exactly the ones needed to make  $i$ a morphism in the sense of \cref{def:morphism_of_complex_of_groups_to_group}.
The group $F\calg$ is universal in that these relations are minimal.
Specifically, given any morphism $\omega \colon \calg \to G$, there is a unique homomorphism $F\omega \colon F\calg \to G$ such that $f\omega \circ i = \omega$ \cite[Chapter 3.\textrm{\ensuremath{\calc}}, Section 3.2]{BrHa11}.

Consider edge paths in the category $C\calg$, like in \cref{def:edge_path_in_scwol}, except we now have non-identity endomorphisms.
As we saw in the case of scwols, homotopy is encoded by map composition, exactly the same is true in this case.
For the following examples, let the complex of groups $\calg$ be simple, consist of two vertices and correspond to the following inclusion
\[
	G_\sigma \hookrightarrow G_\tau
	.\]
The edge paths will be in the category $C\calg$, and we consider homotopies in $\abs{C\calg}$.
\begin{example}
	Let $e_1$ and $e_2$ be positively oriented edges corresponding to the maps $g,h \in G_\sigma$.
	These are loops, so  $i(e_1)=i(e_2)=t(e_1)=t(e_2)=\sigma$.
	There is a homotopy from the path $(e_1, e_2)$ to $(e_3)$ where $e_3$ is the loop starting and ending at $\sigma$ which corresponds to $hg\in G_\sigma$.
\end{example}
\begin{example}
	Let $e_1$ be the positively oriented edge with $i(e_1)=\sigma$ and  $t(e_1) = \tau$, which corresponds to $g \in G_\tau$.
	Let $e_2$ be the positively oriented edge with $i(e_2)=\sigma$ and  $t(e_2)=\tau$, which corresponds to the identity element  $1_\tau \in G_\tau$.
	Let $e_3$ be the positively oriented loop at $\tau$ which corresponds to $g \in G_\tau$.
	The path $(e_1)$ is homotopic to the path $(e_2,e_3)$.
	Shown in the following diagram.
	\[
		\begin{tikzpicture}[baseline=(r.base)]
			\tikzstyle{every label}=[font=\footnotesize]
			\tikzstyle{every node}=[font=\footnotesize]
			\node[FSC] (l) at (0,0) {};
			\node[above left] at (l) {$\sigma$};
			\node[FSC] (r) at (1.5,0.5) {};
			\node[above, yshift=2pt] at (r) {$\tau$};

			\draw[arrow_me=stealth, bend left=10, lightgray] (l) to node[below] {$1_\tau$} (r);
			\draw[arrow_me=stealth, bend left=50] (l) to node[above] {$g$} (r);
			\draw[arrow_me=stealth,  lightgray] (r) to [out=-30, in=40, looseness=30] node[above, yshift=3pt] {$1_\tau$} (r);
			\draw[arrow_me=stealth,  lightgray] (r) to [out=-120, in=-50, looseness=30] node[below] {$g$} (r);
		\end{tikzpicture}
		\quad \simeq \quad
		\begin{tikzpicture}[baseline=(r.base)]
			\tikzstyle{every label}=[font=\footnotesize]
			\tikzstyle{every node}=[font=\footnotesize]
			\node[FSC] (l) at (0,0) {};
			\node[above left] at (l) {$\sigma$};
			\node[FSC] (r) at (1.5,0.5) {};
			\node[above, yshift=2pt] at (r) {$\tau$};

			\draw[arrow_me=stealth, bend left=10] (l) to node[below] {$1_\tau$} (r);
			\draw[arrow_me=stealth, bend left=50, lightgray] (l) to node[above] {$g$} (r);
			\draw[arrow_me=stealth, lightgray] (r) to [out=-30, in=40, looseness=30] node[above, yshift=3pt] {$1_\tau$} (r);
			\draw[arrow_me=stealth] (r) to [out=-120, in=-50, looseness=30] node[below] {$g$} (r);
		\end{tikzpicture}
	\]
\end{example}
From the previous example, we see that any edge path in $F\calg$ is homotopic to a path which moves between vertices via the relevant identity element, and possibly completes some loop at each vertex.
Thus, to record an edge path in $F\calg$ up to homotopy, we should record exactly this information.

\begin{definition}
	Let $\calg$ be some complex of groups over the scwol $\calx$.
	A $\calg$ path $p$ from $\sigma$ to  $\tau$ is a tuple of the following form,
	\[
		p = (g_0, e_1, g_1, \ldots ,e_n, g_n)
	\]
	where each $e_i \in E^\pm(\calx)$, $i(e_1) = \sigma$, $t(e_n)=\tau$, $g_0 \in G_\sigma$, and each $g_j \in G_{t(e_j)}$ for  $j \neq 0$.
	If $\sigma=\tau$, then this is a \emph{ $\calg$ loop} at  $\sigma$.
	\label{def:paths_in_complexes_of_groups}
\end{definition}

If $p = (g_0, e_1, \ldots, e_n, g_n)$ is a path from $\sigma$ to  $\tau$ and  $p^\prime = (g^\prime_0, e^\prime_1, \ldots, e^\prime_n, g^\prime_n)$ is a path from $\tau$ to $\nu$, then the concatenation  $p \ast q$ is defined to be
\[
	(g_0, e_1, \ldots, e_n, g_ng^\prime_0, e_1, \ldots, e^\prime_n, g^\prime_n)
	.\]
There is a projection $\pi$ from $\calg$ paths to $F\calg$ that acts as
\[
	(g_0, e_1, \ldots, e_n, g_n) \mapsto g_0e_1\cdots e_ng_n
	.\]
Two $\calg$ paths  $p$ and $q$ are defined to be homotopic if $\pi(p) = \pi(q)$ in $F\calg$.
The fundamental group $\pi_1(\calg, \sigma_0)$ of $\calg$ at $\sigma_0$ is defined to be $\calg$ loops at  $\sigma_0$ up to homotopy, with concatenation as the group operation.
In Haefliger's work, he \emph{defines} paths and homotopy in $\calg$ as in \cref{def:edge_path_in_scwol}.
The fact that this is encodes the usual notion of homotopy in the classifying space for $\calg$, is briefly mentioned in \cite[Section 3.1.a]{haefliger_complexes_1991}.
Hopefully by the preceding discussion, the reason for this correspondence is clear.
\begin{theorem}[\hspace{1sp}{\cite[Proposition 3.2]{haefliger_complexes_1991}}]
	Given a complex of groups $\calg$ over a connected scwol  $\calx$, let $T$ be a spanning tree of  $\calx$.
	The fundamental group  $\pi_1(\calg, \sigma_0)$ is isomorphic to $F\calg$ quotiented by the relations  $R_T$ where
	\[
		R_T = \Set{a = 1 \given a \text{ is an edge in } T}
		.\]
\end{theorem}
For complex of groups $\calg$ over a connected scwol $\calx$, there is a projection $\rho \colon F\calg \to \pi_1(\calg,\sigma_0)$.
By the above theorem, $\rho$ is injective on the local groups $G_\sigma \leq F\calg$.
Thus, we can make \cref{thm:complex_of_groups_developable_iff_injective} more specific.
Let $i \colon G_\sigma \to F\calg$ be the inclusion of local groups as discussed proceeding \cref{def:complex_of_groups_universal_group}.
\begin{theorem}[\hspace{1sp}{\cite[Chapter 3.\textrm{\ensuremath{\calc}}, Proposition 3.9]{BrHa11}}]
	A complex of groups $\calg$ over a connected scwol  $\calx$ is developable if and only if the map $i \colon G_\sigma \to F\calg$, or equivalently $\rho \circ i \colon G_\sigma \to \pi_1(\calg, \sigma_0)$ is injective on each local group $G_\sigma$.
\end{theorem}
Compare this with \cref{def:graph_of_groups_fund_group}.
With the definition of the fundamental group of a complex of groups, we have generalised many aspects in the theory of graphs of groups.
In this context, it is also prove some important results in that theory, such as the developability of any graph of groups, realised as a 1-dimensional complex of groups.

There are results, discussed in \cite[Section 6]{haefliger_complexes_1991}, that relate non-positive curvature properties on the geometric realisation of the scwol to the developability of any complex of groups over that scwol.
In \cite{charney_davis_kpi_1995}, the authors use complexes of groups to define what they call \emph{modified Deligne complex} and \emph{modified Coxeter complex}, where some of the tools developed here, especially the geometric realisation $C\calg$ play a vital role.

Overall, complexes of groups provide a very useful context in which to understand and leverage group actions on complexes.
